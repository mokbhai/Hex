# Ralph Progress Log for Hex Voice
# This file tracks learnings across iterations for autonomous AI development

## Codebase Patterns
- Tauri 2.0 projects use create-tauri-app with template react-ts
- TypeScript strict mode is enabled by default in Tauri React templates
- Vite is the default build tool for Tauri 2.0 frontend
- Tauri commands are registered in src-tauri/src/lib.rs with #[tauri::command]
- All Tauri frontend code goes in src/ directory
- All Rust backend code goes in src-tauri/src/ directory
- Tailwind CSS v3 uses tailwind.config.js with content paths for class scanning
- Tailwind directives (@tailwind base/components/utilities) go in index.css
- PostCSS config uses ESM export syntax with tailwindcss and autoprefixer plugins

---

## 2025-02-09 - E1-1 - Initialize Tauri 2.0 project with React + TypeScript

**What was implemented:**
- Created Tauri 2.0 project with React + TypeScript using create-tauri-app
- Configured TypeScript with strict mode (already enabled by template)
- Set up Vite as build tool for frontend
- Initialized Rust backend with Tauri dependencies
- Configured basic macOS app structure

**Files changed:**
- package.json, tsconfig.json, vite.config.ts - Frontend build configuration
- src-tauri/Cargo.toml, src-tauri/build.rs - Rust build configuration
- src-tauri/tauri.conf.json - Tauri app configuration
- src-tauri/src/main.rs, src-tauri/src/lib.rs - Rust entry points
- src/App.tsx, src/main.tsx - React entry points
- .gitignore - Updated for Tauri/node_modules

**Learnings for future iterations:**
- The create-tauri-app command creates files in a subdirectory by default; need to move contents to root
- Tauri 2.0 uses capabilities system in src-tauri/capabilities/default.json for permissions
- Hot reload works automatically with Vite dev server on port 1420
- The app identifier defaults to com.<author>.<appname> in tauri.conf.json
- cargo check must be run from src-tauri directory or with --manifest-path flag

---

## 2025-02-09 - E1-2 - Configure build tools (Vite, Tailwind CSS)

**What was implemented:**
- Installed Tailwind CSS v3 with PostCSS and Autoprefixer
- Created tailwind.config.js with content path configuration for scanning src directory
- Created postcss.config.js for PostCSS processing
- Created src/index.css with Tailwind directives (base, components, utilities)
- Updated main.tsx to import index.css for Tailwind styles

**Files changed:**
- package.json - Added tailwindcss, postcss, autoprefixer as dev dependencies
- tailwind.config.js - New Tailwind configuration with content paths
- postcss.config.js - New PostCSS configuration
- src/index.css - New file with Tailwind directives
- src/main.tsx - Added index.css import

**Learnings for future iterations:**
- Tailwind CSS v4 has breaking changes and different configuration; use v3.x for stability
- Tailwind v3 requires content paths in config to scan for utility classes
- The @tailwind directives must be in a CSS file imported by the main entry point
- Vite bundles CSS efficiently (6.42 kB for base Tailwind styles)
- Source maps are enabled by default in Vite for debugging

---

## 2025-02-09 - E1-3 - Add Rust dependencies (cpal, arboard, async-openai, tokio, serde)

**What was implemented:**
- Added cpal v0.15 for audio device enumeration and recording
- Added arboard v3.6 for clipboard access
- Added async-openai v0.25 for OpenAI API integration
- Added tokio v1 with full features for async runtime

**Files changed:**
- src-tauri/Cargo.toml - Added cpal, arboard, async-openai, tokio dependencies
- src-tauri/Cargo.lock - Updated with new dependency tree

**Learnings for future iterations:**
- cpal requires platform-specific audio backends (coreaudio-rs on macOS)
- arboard provides cross-platform clipboard access
- async-openai is a Rust client for the OpenAI API
- tokio "full" features include everything needed for async I/O, time, and sync
- Newer versions of some crates may be available (e.g., async-openai v0.32, cpal v0.17)

---
